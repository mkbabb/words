<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3Blue1Brown Style Animation Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a1a;
            color: #fff;
            padding: 2rem;
            line-height: 1.6;
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-section {
            margin: 3rem 0;
            padding: 2rem;
            background: #2a2a2a;
            border-radius: 8px;
        }
        
        .demo-text {
            font-size: 2rem;
            font-weight: 600;
            margin: 2rem 0;
            position: relative;
            display: inline-block;
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        button {
            padding: 0.5rem 1rem;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button:hover {
            background: #2563eb;
        }

        /* 3b1b Style 1: Radial Reveal (Circle expanding from center) */
        .radial-reveal {
            clip-path: circle(0% at 50% 50%);
        }
        
        /* 3b1b Style 2: Diamond Reveal */
        .diamond-reveal {
            clip-path: polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%);
        }
        
        /* 3b1b Style 3: SVG Mask Reveal */
        .svg-mask-container {
            position: relative;
        }
        
        .svg-mask-text {
            position: relative;
            z-index: 1;
        }
        
        /* 3b1b Style 4: Stroke Draw-In (for outlined text) */
        .stroke-text {
            -webkit-text-stroke: 2px #3b82f6;
            -webkit-text-fill-color: transparent;
            font-size: 3rem;
            font-weight: 800;
        }
        
        /* 3b1b Style 5: Multi-directional Wipe */
        .multi-wipe {
            background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 50%, #93c5fd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }
        
        .multi-wipe::before {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            color: #666;
            z-index: -1;
        }
        
        /* 3b1b Style 6: Morphing Reveal */
        .morph-reveal {
            clip-path: ellipse(0% 0% at 50% 50%);
        }
        
        /* 3b1b Style 7: Write-on Effect with Variable Width */
        .write-on {
            position: relative;
            overflow: hidden;
        }
        
        .write-on::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 100%;
            bottom: 0;
            background: #1a1a1a;
            transform-origin: left center;
        }
        
        /* Highlight colors similar to 3b1b */
        .highlight-blue { color: #3b82f6; }
        .highlight-yellow { color: #fbbf24; }
        .highlight-green { color: #10b981; }
        .highlight-red { color: #ef4444; }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>3Blue1Brown Style Animation Demos</h1>
        
        <!-- Demo 1: Radial Reveal -->
        <div class="demo-section">
            <h2>1. Radial Reveal (Circle Expanding)</h2>
            <p>Classic 3b1b style where content reveals from center outward in a circular pattern</p>
            <div class="demo-text radial-reveal" id="radial-text">
                E = mc²
            </div>
            <div class="controls">
                <button onclick="animateRadialReveal()">Play Animation</button>
                <button onclick="resetAnimation('radial-text', 'circle(0% at 50% 50%)')">Reset</button>
            </div>
        </div>
        
        <!-- Demo 2: Diamond/Polygon Reveal -->
        <div class="demo-section">
            <h2>2. Diamond/Polygon Reveal</h2>
            <p>Content reveals in a diamond shape expanding from center</p>
            <div class="demo-text diamond-reveal" id="diamond-text">
                ∫ f(x) dx
            </div>
            <div class="controls">
                <button onclick="animateDiamondReveal()">Play Animation</button>
                <button onclick="resetAnimation('diamond-text', 'polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)')">Reset</button>
            </div>
        </div>
        
        <!-- Demo 3: SVG Mask Reveal -->
        <div class="demo-section">
            <h2>3. SVG Mask Reveal</h2>
            <p>Using SVG masks for more complex reveal patterns</p>
            <div class="svg-mask-container">
                <svg width="400" height="100" style="position: absolute; top: 0; left: 0;">
                    <defs>
                        <mask id="reveal-mask">
                            <rect id="mask-rect" x="200" y="50" width="0" height="0" fill="white" />
                        </mask>
                    </defs>
                </svg>
                <div class="demo-text svg-mask-text" style="mask: url(#reveal-mask); -webkit-mask: url(#reveal-mask);">
                    ∇ × B = μ₀J
                </div>
            </div>
            <div class="controls">
                <button onclick="animateSVGMask()">Play Animation</button>
                <button onclick="resetSVGMask()">Reset</button>
            </div>
        </div>
        
        <!-- Demo 4: Stroke Draw-In -->
        <div class="demo-section">
            <h2>4. Stroke Draw-In Effect</h2>
            <p>Text appears as if being drawn with a pen</p>
            <svg width="600" height="120" viewBox="0 0 600 120">
                <text id="stroke-text" x="10" y="80" class="stroke-text" 
                      stroke-dasharray="1000" stroke-dashoffset="1000">
                    Vector Field
                </text>
            </svg>
            <div class="controls">
                <button onclick="animateStrokeDraw()">Play Animation</button>
                <button onclick="resetStrokeDraw()">Reset</button>
            </div>
        </div>
        
        <!-- Demo 5: Multi-directional Wipe -->
        <div class="demo-section">
            <h2>5. Multi-directional Gradient Wipe</h2>
            <p>Complex wipe with multiple directions converging</p>
            <div class="demo-text multi-wipe" id="multi-wipe-text" data-text="∂f/∂x + ∂f/∂y">
                ∂f/∂x + ∂f/∂y
            </div>
            <div class="controls">
                <button onclick="animateMultiWipe()">Play Animation</button>
                <button onclick="resetMultiWipe()">Reset</button>
            </div>
        </div>
        
        <!-- Demo 6: Morphing Ellipse Reveal -->
        <div class="demo-section">
            <h2>6. Morphing Ellipse Reveal</h2>
            <p>Ellipse that morphs as it expands</p>
            <div class="demo-text morph-reveal" id="morph-text">
                Σ aₙxⁿ
            </div>
            <div class="controls">
                <button onclick="animateMorphReveal()">Play Animation</button>
                <button onclick="resetAnimation('morph-text', 'ellipse(0% 0% at 50% 50%)')">Reset</button>
            </div>
        </div>
        
        <!-- Demo 7: Write-on with Variable Speed -->
        <div class="demo-section">
            <h2>7. Write-on Effect</h2>
            <p>Text appears as if being written, with variable speed</p>
            <div class="demo-text write-on" id="write-on-text">
                The Fundamental Theorem
            </div>
            <div class="controls">
                <button onclick="animateWriteOn()">Play Animation</button>
                <button onclick="resetWriteOn()">Reset</button>
            </div>
        </div>
        
        <!-- Demo 8: Combined Effect -->
        <div class="demo-section">
            <h2>8. Combined 3b1b Effect</h2>
            <p>Multiple effects combined: scale + fade + clip-path</p>
            <div class="demo-text" id="combined-text" style="opacity: 0; transform: scale(0.8); clip-path: circle(0% at 50% 50%);">
                <span class="highlight-blue">f</span>(<span class="highlight-yellow">x</span>) = 
                <span class="highlight-green">∫</span> <span class="highlight-red">g(t)</span> dt
            </div>
            <div class="controls">
                <button onclick="animateCombined()">Play Animation</button>
                <button onclick="resetCombined()">Reset</button>
            </div>
        </div>
    </div>

    <script>
        // Animation implementations
        
        // 1. Radial Reveal
        function animateRadialReveal() {
            gsap.to("#radial-text", {
                clipPath: "circle(150% at 50% 50%)",
                duration: 1.2,
                ease: "power2.inOut"
            });
        }
        
        // 2. Diamond Reveal
        function animateDiamondReveal() {
            gsap.to("#diamond-text", {
                clipPath: "polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",
                duration: 1,
                ease: "power3.inOut"
            });
        }
        
        // 3. SVG Mask Reveal
        function animateSVGMask() {
            const maskRect = document.getElementById('mask-rect');
            gsap.timeline()
                .set(maskRect, { attr: { x: 200, y: 50, width: 0, height: 0 } })
                .to(maskRect, {
                    attr: { x: 0, y: 0, width: 400, height: 100 },
                    duration: 1.5,
                    ease: "power3.out"
                });
        }
        
        function resetSVGMask() {
            gsap.set("#mask-rect", { attr: { x: 200, y: 50, width: 0, height: 0 } });
        }
        
        // 4. Stroke Draw
        function animateStrokeDraw() {
            gsap.to("#stroke-text", {
                strokeDashoffset: 0,
                duration: 2,
                ease: "power2.inOut"
            });
        }
        
        function resetStrokeDraw() {
            gsap.set("#stroke-text", { strokeDashoffset: 1000 });
        }
        
        // 5. Multi-directional Wipe
        function animateMultiWipe() {
            const timeline = gsap.timeline();
            const element = document.getElementById('multi-wipe-text');
            
            timeline
                .set(element, { 
                    clipPath: "polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 50%)" 
                })
                .to(element, {
                    clipPath: "polygon(0% 0%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 50% 100%, 0% 100%, 0% 50%)",
                    duration: 1.5,
                    ease: "power2.out"
                });
        }
        
        function resetMultiWipe() {
            gsap.set("#multi-wipe-text", { 
                clipPath: "none" 
            });
        }
        
        // 6. Morphing Reveal
        function animateMorphReveal() {
            gsap.to("#morph-text", {
                clipPath: "ellipse(100% 100% at 50% 50%)",
                duration: 1.3,
                ease: "back.out(1.7)"
            });
        }
        
        // 7. Write-on Effect
        function animateWriteOn() {
            gsap.to("#write-on-text::after", {
                right: "-100%",
                duration: 1.5,
                ease: "power2.inOut"
            });
        }
        
        function resetWriteOn() {
            gsap.set("#write-on-text::after", { right: "100%" });
        }
        
        // 8. Combined Effect
        function animateCombined() {
            const timeline = gsap.timeline();
            timeline
                .to("#combined-text", {
                    opacity: 1,
                    scale: 1,
                    duration: 0.5,
                    ease: "power2.out"
                })
                .to("#combined-text", {
                    clipPath: "circle(150% at 50% 50%)",
                    duration: 1,
                    ease: "power3.inOut"
                }, "-=0.3");
        }
        
        function resetCombined() {
            gsap.set("#combined-text", {
                opacity: 0,
                scale: 0.8,
                clipPath: "circle(0% at 50% 50%)"
            });
        }
        
        // Helper reset function
        function resetAnimation(elementId, clipPath) {
            gsap.set(`#${elementId}`, { clipPath: clipPath });
        }
    </script>
</body>
</html>